=================================================
第 1 章 TOPPERS第 3 世代カーネル（ITRON系）の概要
=================================================

------------------------------
仕様の位置付けと設計方針の解説
------------------------------


設計方針
--------

- μITRON 4.0 仕様をベースに拡張・改良を加える
   - 基本的に先人の肩に乗る
   - 拡張・改良できる所は互換性にこだわらず積極的に修正する
- ソフトウェアの再利用性を重視
   - 少々のオーバーヘッドを許容
      - ハードの進化がすごいので、許容できる
      - μITRON 4.0 では、「オーバーヘッド削減のために実装定義・実装依存」としている箇所があるが、そこの仕様を規定した
- 高信頼・安全なシステム構築を支援する
   - パーティショニング機能を実現
   - (リーズナブルなオーバーヘッドであれば)アプリケーションプログラムの問題を救済するような仕様
- アプリケーションシステム構築に必要な機能は積極的に取り込む
   - カーネルにたくさんの機能を付けると、カーネル単体の信頼性を上げにくくなる
   - しかし、「大多数のアプリで使用されるような機能」は、カーネル組み込みで実装したほうがシステム全体として見れば有利になる

HRP3
----

High Reliable system Profile。

ASP3 をより高信頼・高安全に拡張したもの。

ASP3 より高い信頼性・安全性を要求される組込みシステムや、
より大規模な組込みシステム向けのカーネル。

適用できるハードウェアの条件がある。

- 特権モードと非特権モードを備える
- メモリ保護のための MMU or MPU を備える

ASP3 から拡張された機能は次の通り。

- メモリ保護
- オブジェクトアクセス保護
- 拡張サービスコール
- 時間パーティショニング


FMP3
----

Flexible Multiprocessor Profile。

ASP3 カーネルをマルチコア・メニーコア向けに拡張したもの。

適用できるハードウェアの条件がある。

- ホモジニアスなマルチコア・メニーコアプロセッサシステム
   - 同じバイナリコードを実行できること

ASP3 から拡張された機能は次の通り。

- タスクマイグレーションのためのサービスコール


SSP3
----

Smallest Set Profile。

ASP3 カーネルを小規模な組込みシステム向けに機能削減・拡張したもの。
(メモリ使用量削減に有用な機能を追加している)

数 KB から 数十 KB 程度の小規模システム向け。



